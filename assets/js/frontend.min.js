jQuery(document).ready(function(a){"use strict";var b=a("body");a(document).on("click",".ywpar-button-message",function(b){b.preventDefault();var c=a(this);c.hasClass("ywpar-button-percentage-discount")?c.next().find("form").submit():a(".ywpar_apply_discounts_container").slideToggle()}),a(document).on("click","#ywpar_apply_discounts",function(b){b.preventDefault(),a("#ywpar_input_points_check").val(1),a(this).parents("form").submit()}),a.fn.yith_ywpar_variations=function(b){var b=a(".variations_form:not(.in_loop )"),c=b.closest(".product").find(".yith-par-message"),d=b.closest(".product").find(".yith-par-message-variation");c.length||(c=a(".product").find(".yith-par-message"),d=a(".product").find(".yith-par-message-variation")),c.length||(c=a(".yith-par-message"),d=a(".yith-par-message-variation"));var e=d.find(".product_point"),f=d.find(".product-point-conversion");b.on("found_variation",function(a,b){c.addClass("hide"),d.removeClass("hide"),0==b.variation_points&&d.addClass("hide"),b.variation_points&&e.text(b.variation_points),b.variation_price_discount_fixed_conversion&&f.html(b.variation_price_discount_fixed_conversion)}),b.on("reset_data",function(){d.addClass("hide"),c.removeClass("hide")}),b.find("select").first().trigger("change")},b.hasClass("single-product")&&a.fn.yith_ywpar_variations(),a(document).on("qv_loader_stop",function(){a.fn.yith_ywpar_variations()}),a(document.body).on("updated_cart_totals",function(){var b=a("#yith-par-message-cart");b.length>0&&a.ajax({url:yith_wpar_general.wc_ajax_url.toString().replace("%%endpoint%%","ywpar_update_cart_messages"),type:"POST",beforeSend:function(){},success:function(a){b.html(a)}});var c=a("#yith-par-message-reward-cart");c.length>0&&a.ajax({url:yith_wpar_general.wc_ajax_url.toString().replace("%%endpoint%%","ywpar_update_cart_rewards_messages"),type:"POST",beforeSend:function(){},success:function(a){c.html(a)}})})});